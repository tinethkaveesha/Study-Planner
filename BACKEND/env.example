# ============================================================
# Backend Environment Configuration
# ============================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ============================================================
# Server Configuration
# ============================================================
PORT=5000
NODE_ENV=development

# ============================================================
# CORS Configuration
# ============================================================
# Frontend URLs for CORS
# Development: http://localhost:5173
# Production: Separate multiple domains with commas

# For production deployments, list all allowed origins:
# ALLOWED_ORIGINS=https://your-app.vercel.app,https://your-app.netlify.app
ALLOWED_ORIGINS=

# CLIENT_URL is used as a fallback for single-origin setups
CLIENT_URL=http://localhost:5173

# ============================================================
# Firebase Configuration
# ============================================================
# Choose ONE authentication method:

# Method 1: Google Cloud Application Default Credentials (RECOMMENDED for local dev)
# - Install Google Cloud SDK: https://cloud.google.com/sdk/docs/install
# - Run: gcloud auth application-default login
# - Leave FIREBASE_SERVICE_ACCOUNT_JSON empty below

# Method 2: Service Account JSON (for production/CI/CD)
# - Go to Firebase Console > Project Settings > Service Accounts
# - Click "Generate New Private Key"
# - Copy the ENTIRE JSON content as a SINGLE LINE string
# - Example format:
# FIREBASE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"your-project","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"...","client_id":"...","auth_uri":"...","token_uri":"...","auth_provider_x509_cert_url":"...","client_x509_cert_url":"..."}

FIREBASE_SERVICE_ACCOUNT_JSON=

# ============================================================
# Stripe Configuration
# ============================================================
# Get your API keys from: https://dashboard.stripe.com/apikeys

# IMPORTANT: 
# - Use TEST keys (sk_test_/pk_test_) for development
# - Use LIVE keys (sk_live_/pk_live_) for production
# - NEVER expose these keys in client-side code

# Stripe Secret Key (server-side only)
STRIPE_SECRET_KEY=sk_test_your_secret_key_here

# Stripe Publishable Key (can be used client-side)
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Stripe Webhook Secret
# Get from: https://dashboard.stripe.com/webhooks
# 1. Create a new webhook endpoint pointing to: https://your-domain.com/api/stripe/webhook
# 2. Select events to listen to (see list below)
# 3. Copy the webhook signing secret (starts with whsec_)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================================
# Stripe Webhook Events to Listen For
# ============================================================
# When setting up your webhook in Stripe Dashboard, select these events:
# - checkout.session.completed
# - customer.subscription.created
# - customer.subscription.updated
# - customer.subscription.deleted
# - invoice.paid
# - invoice.payment_failed

# ============================================================
# Security Notes
# ============================================================
# 1. NEVER commit .env files to Git
# 2. Use different Stripe keys for dev/test/production
# 3. Rotate API keys regularly
# 4. Use environment-specific .env files (.env.development, .env.production)
# 5. For production, use your hosting platform's environment variable manager
# 6. Keep Firebase service account JSON secure - treat it like a password
